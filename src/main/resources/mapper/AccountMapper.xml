<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.tuum.banking.mapper.AccountMapper">

    <resultMap id="AccountResultMap" type="com.tuum.banking.domain.Account">
        <id property="id" column="id"/>
        <result property="customerId" column="customer_id"/>
        <result property="country" column="country"/>
        <result property="createdAt" column="created_at"/>
        <result property="updatedAt" column="updated_at"/>
        <collection property="balances" ofType="com.tuum.banking.domain.Balance" resultMap="BalanceResultMap"/>
    </resultMap>

    <resultMap id="BalanceResultMap" type="com.tuum.banking.domain.Balance">
        <id property="id" column="balance_id"/>
        <result property="currency" column="currency"/>
        <result property="availableAmount" column="available_amount"/>
    </resultMap>

</mapper>
